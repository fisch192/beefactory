---
import type { Lang } from '../lib/i18n';
import { t } from '../lib/i18n';
import { collections } from '../data/collections';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const prefix = `/${lang}`;
const catSlug = lang === 'de' ? 'kategorien' : 'categorie';
const year = new Date().getFullYear();
---

<footer class="bg-near-black text-white/80">
  <div class="container-wide section-padding">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8">
      <!-- About -->
      <div>
        <img src="/images/beefactory-logo.png" alt="Bee Factory" class="h-12 mb-4 brightness-0 invert" />
        <p class="text-sm leading-relaxed text-white/60">{t('footer.about.text', lang)}</p>
      </div>

      <!-- Categories -->
      <div>
        <h3 class="text-sm font-semibold text-white uppercase tracking-wider mb-4">{t('footer.categories.title', lang)}</h3>
        <ul class="space-y-2.5">
          {collections.map((col) => (
            <li>
              <a href={`${prefix}/${catSlug}/${col.handle}`} class="text-sm text-white/60 hover:text-honey transition-colors">
                {col.title[lang]}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- For beekeepers -->
      <div>
        <h3 class="text-sm font-semibold text-white uppercase tracking-wider mb-4">{t('footer.imker.title', lang)}</h3>
        <ul class="space-y-2.5">
          <li><a href={`${prefix}/${lang === 'de' ? 'neuimker' : 'nuovi-apicoltori'}`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.imker.neuimker', lang)}</a></li>
          <li><a href={`${prefix}/faq`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.imker.faq', lang)}</a></li>
        </ul>
      </div>

      <!-- Customer service -->
      <div>
        <h3 class="text-sm font-semibold text-white uppercase tracking-wider mb-4">{t('footer.service.title', lang)}</h3>
        <ul class="space-y-2.5">
          <li><a href={`${prefix}/${lang === 'de' ? 'versand' : 'spedizione'}`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.service.shipping', lang)}</a></li>
          <li><a href={`${prefix}/impressum`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.service.impressum', lang)}</a></li>
          <li><a href={`${prefix}/${lang === 'de' ? 'datenschutz' : 'privacy'}`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.service.privacy', lang)}</a></li>
          <li><a href={`${prefix}/agb`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.service.agb', lang)}</a></li>
          <li><a href={`${prefix}/${lang === 'de' ? 'wiederruf' : 'recesso'}`} class="text-sm text-white/60 hover:text-honey transition-colors">{t('footer.service.widerruf', lang)}</a></li>
        </ul>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="mt-16 pt-8 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="text-xs text-white/40">&copy; {year} {t('footer.copyright', lang)}</p>
      <!-- Payment icons placeholder -->
      <div class="flex items-center gap-3 text-white/30">
        <span class="text-xs uppercase tracking-wider">Visa</span>
        <span class="text-xs uppercase tracking-wider">Mastercard</span>
        <span class="text-xs uppercase tracking-wider">PayPal</span>
        <span class="text-xs uppercase tracking-wider">Klarna</span>
      </div>
    </div>
  </div>
</footer>
