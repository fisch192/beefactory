---
import type { Lang } from '../lib/i18n';
import { t } from '../lib/i18n';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;

const features = [
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 12 15 16 10"/></svg>`,
    title: t('usp.quality.title', lang),
    text:  t('usp.quality.text', lang),
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`,
    title: t('usp.experience.title', lang),
    text:  t('usp.experience.text', lang),
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>`,
    title: t('usp.shipping.title', lang),
    text:  t('usp.shipping.text', lang),
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>`,
    title: t('usp.support.title', lang),
    text:  t('usp.support.text', lang),
  },
];
---

<div class="feature-bar">
  <div class="feature-inner">
    {features.map((f) => (
      <div class="feature-item">
        <div class="feature-icon" set:html={f.icon} />
        <div class="feature-text">
          <span class="feature-title">{f.title}</span>
          <span class="feature-body">{f.text}</span>
        </div>
      </div>
    ))}
  </div>
</div>

<style>
  .feature-bar {
    background:   var(--color-void);
    border-top:   1px solid var(--color-machined);
    border-bottom: 1px solid var(--color-machined);
    padding:      2rem 0;
  }

  .feature-inner {
    max-width:  1440px;
    margin:     0 auto;
    padding:    0 clamp(1.5rem, 5vw, 5rem);
    display:    grid;
    grid-template-columns: repeat(2, 1fr);
    gap:        1.5rem 2.5rem;
  }
  @media (min-width: 768px) {
    .feature-inner {
      grid-template-columns: repeat(4, 1fr);
      gap: 0;
    }
  }

  .feature-item {
    display:     flex;
    align-items: flex-start;
    gap:         1rem;
    padding:     1rem 0;
    transition:  opacity 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .feature-bar:hover .feature-item { opacity: 0.3; }
  .feature-bar:hover .feature-item:hover { opacity: 1; }

  @media (min-width: 768px) {
    .feature-item {
      padding:      0 2.5rem;
      border-right: 1px solid var(--color-machined);
    }
    .feature-item:last-child  { border-right: none; }
    .feature-item:first-child { padding-left: 0; }
  }

  .feature-icon {
    flex-shrink: 0;
    color:       var(--color-amber);
    margin-top:  0.1rem;
    opacity:     0.9;
    transition:  transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .feature-item:hover .feature-icon { transform: scale(1.15); }

  .feature-text {
    display:        flex;
    flex-direction: column;
    gap:            0.35rem;
  }

  .feature-title {
    font-family:    var(--font-sans);
    font-size:      0.75rem;
    font-weight:    700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color:          var(--color-titanium);
  }

  .feature-body {
    font-family: var(--font-sans);
    font-size:   0.8125rem;
    color:       var(--color-steel);
    line-height: 1.5;
  }
</style>
